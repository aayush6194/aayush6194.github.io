{"version":3,"sources":["webpack:///./src/pages/Message.js","webpack:///./node_modules/core-js/modules/es7.promise.finally.js"],"names":["Box","styled","posed","div","start","scale","opacity","end","transition","duration","ease","withConfig","displayName","componentId","Grid","form","Message","props","_this","_React$Component","call","this","toggleDarkMode","mode","localStorage","setItem","setState","darkMode","change","e","_this$setState","target","name","value","state","email","message","subject","file","fileNum","stage","loading","getDarkMode","getItem","componentDidCatch","error","errorInfo","console","submit","displayModal","_this2","_this$state","messageObj","api","then","res","success","catch","finally","componentDidMount","render","_this3","_this$state2","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_5__","_context_modal_context__WEBPACK_IMPORTED_MODULE_9__","_ref","Fragment","_components___WEBPACK_IMPORTED_MODULE_7__","title","keywords","className","active","pose","onSubmit","preventDefault","htmlFor","type","id","onChange","onClick","React","Component","$export","__webpack_require__","core","global","speciesConstructor","promiseResolve","P","R","onFinally","C","Promise","isFunction","x"],"mappings":"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","file":"component---src-pages-message-js-c4cee4d9bbd08e7faa0c.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport Layout from '../components/layout';\nimport posed from 'react-pose';\nimport {Loader, Sidebar, DarkMode, SEO, Header} from '../components/';\nimport api from '../api';\nimport {  ModalConsumer} from '../context/modal-context';\nconst Box = styled(posed.div({\n  start: { scale: 0, opacity: 0.6},\n  end: { scale: 1, opacity: 1},\n  transition:{\n    duration: 210,\n    ease: 'linear'\n  }\n\n}))``;\n\nconst Grid = styled.form`\n  display: grid;\n  grid-template-columns: 60px auto;\n  color: white;\n  font-weight: bold;\n  width: 60%;\n  max-width: 1000px;\n  margin: auto;\n  @media (max-width: 1600px){\n    grid-template-columns: 85px auto;\n  }\n  @media (max-width: 720px){\n    width: 95%;\n    grid-template-columns: 100px auto;\n  }\n`;\n\nclass Message extends React.Component  {\n  \n  constructor(props){\n    super(props);\n    this.state ={ name : \"\", email: \"\", message: \"\", subject:\"\", file: null, fileNum: 0, stage: \"start\", darkMode: false, loading :false};\n  }\n  \n  getDarkMode(){\n    let mode = (localStorage.getItem(\"dark-mode\")? localStorage.getItem(\"dark-mode\") : false) === \"true\"? true: false; \n    this.setState( { darkMode: mode});\n  }\n\n  componentDidCatch(error, errorInfo){ console(error); console(errorInfo)}\n\n  toggleDarkMode = (mode)=>{  \n    localStorage.setItem(\"dark-mode\", mode === \"dark\"? true : false); \n      this.setState({ darkMode : mode === \"dark\"? true : false});\n    }\n\n  submit(displayModal){\n  const {name, email, message, subject} = this.state;\n  const messageObj = {name, email, subject, message};\n  if(!name || !email || !message) return displayModal(\"Enter all the fields\");\n  this.setState({ loading : true})\n   api.message(messageObj).then((res)=>{\n     if(res.success) displayModal(\"Sucessfully Submitted your Message\");\n     else displayModal(\"Could not Submit your Message. Please Try again\");\n     this.setState({ name : \"\", email: \"\", message: \"\", subject:\"\"});\n   }).catch((e)=>displayModal(\"Error. Please Try Again Later\"))\n   .finally(()=>this.setState({ loading : false }))\n    }\n\n// load (){\n//   const API = \"https://nodeapi12.herokuapp.com/files\";\n//   fetch(API, {mode: 'cors'})\n//       .then(function(res){return res.json();})\n//         .then((data)=>{\n//           this.setState({fileNum : data.num});\n//        })\n//       .catch(function(err) {alert(\"Connecting to API. Sever Maybe Asleep. Try Again.\");});\n// }\n\n componentDidMount(){\n  this.getDarkMode();\n //  this.load();\n  this.setState({stage: \"end\"});\n }\n\n change= e =>{\n   this.setState({ [e.target.name]: e.target.value});\n }\n  render(){\n    const {darkMode} = this.state;\n    const {name, email, message, subject} = this.state;;\nreturn(\n  <Layout darkMode={darkMode}>\n    <ModalConsumer >{\n      ({displayModal})=><>\n    <SEO title=\"Message\" keywords={[`gatsby`, `application`, `react`]} />\n    <div className=\"container\">\n    <Sidebar active={\"message\"} darkMode={darkMode}/>\n    <Header  active={\"message\"} darkMode={darkMode}/>\n    <Box pose={this.state.stage}>\n    <div>\n      {this.state.loading && <Loader />}\n    <Grid onSubmit={(e)=> {e.preventDefault(); this.submit(displayModal)}}>\n      <label htmlFor=\"name\">Name:</label>\n      <input type=\"text\" className=\"input\" id=\"name\" name=\"name\" onChange={this.change} value={name}/>\n      <label htmlFor=\"email\">Email: </label>\n      <input type=\"email\" className=\"input\" id=\"email\" name=\"email\" onChange={this.change} value={email}/>\n      <label htmlFor=\"subject\">Subject: </label>\n      <input type=\"text\" className=\"input\" id=\"text\" name=\"subject\" onChange={this.change} value={subject}/>\n      <label htmlFor=\"messagel\">Message: </label>\n      <input type=\"text\" className=\"input\" id=\"text\" name=\"message\" onChange={this.change} value={message}/>\n      <button className={`input bt bt-custom row btt ${darkMode && \"dark-btn\"}`}  onClick={()=>this.submit(displayModal)}>Submit</button>\n    </Grid>\n    </div>\n     </Box>\n     <DarkMode toggleDarkMode={this.toggleDarkMode} darkMode={darkMode} />\n    </div></>}\n    </ModalConsumer>\n  </Layout>\n\n)\n}\n}\nexport default Message;\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n"],"sourceRoot":""}